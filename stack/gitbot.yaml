context:
  cfntools: 'https://s3.amazonaws.com/cloudformation-examples/aws-cfn-bootstrap-latest.tar.gz'
  instances:
    - t1.micro
    - m1.small
    - m1.medium
    - m1.large
    - m1.xlarge
    - m2.xlarge
    - m2.2xlarge
    - m2.4xlarge
    - c1.medium
    - c1.xlarge
    - cc1.4xlarge
    - cc2.8xlarge
    - cg1.4xlarge

  instanceToArch:
    c1.medium:
      Arch: '64'
    c1.xlarge:
      Arch: '64'
    m1.large:
      Arch: '64'
    m1.medium:
      Arch: '64'
    m1.small:
      Arch: '64'
    m1.xlarge:
      Arch: '64'
    m2.2xlarge:
      Arch: '64'
    m2.4xlarge:
      Arch: '64'
    m2.xlarge:
      Arch: '64'
    t1.micro:
      Arch: '64'
  regionArchToAMI:
    ap-northeast-1:
      '32': ami-73cf4972
      '64': ami-77cf4976
    ap-southeast-1:
      '32': ami-7a81cc28
      '64': ami-7881cc2a
    ap-southeast-2:
      '32': ami-4ef26374
      '64': ami-4cf26376
    eu-west-1:
      '32': ami-d81810ac
      '64': ami-da1810ae
    sa-east-1:
      '32': ami-45fb2058
      '64': ami-47fb205a
    us-east-1:
      '32': ami-da0d9eb3
      '64': ami-de0d9eb7
    us-west-1:
      '32': ami-be1230fb
      '64': ami-b81230fd
    us-west-2:
      '32': ami-48d94c78
      '64': ami-4ad94c7a
source_dir: source
source_patterns: '*.json'
output_dir: out
search_paths: scripts
publish:
  bucket: gitbot_stack
  path: cfn/v1.0
  main: main.json
  stack_name: gitbot-stack
  params:
    RedisStackURL: '{{ url_for("redis.json") }}'
    KeyName: '{{ data.app_key }}'
    SiteElasticIP: '{{ data.app_ip }}'
    Domain: '{{ data.app_domain }}'
    GithubClientId: '{{ data.githubClientId }}'
    GithubClientSecret: '{{ data.githubClientSecret }}'
    WebSource: '{{ data.websource_url|default('') }}'
    AppSource: '{{ data.appsource_url|default('') }}'
